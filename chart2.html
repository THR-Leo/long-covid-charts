<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Chart 2</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@400;600;700&display=swap" rel="stylesheet">

<script src="https://www.gstatic.com/charts/loader.js"></script>

<style>
html, body {
  margin:0;
  padding:0;
  background:#fff;
  font-family:"Source Sans 3", system-ui, -apple-system, Segoe UI, Arial, sans-serif;
  color:#111;
}

.wrap {
  padding: 12px 12px 16px;
}

.chart-title {
  margin:0 0 6px;
  font-size:22px;
  font-weight:700;
  line-height:1.2;
}

#chart2 {
  width:100%;
}

.legend {
  margin:8px 0 4px;
  display:flex;
  flex-wrap:wrap;
  gap:12px 18px;
  font-size:14px;
}

.legend-item {
  display:inline-flex;
  align-items:center;
  gap:6px;
}

.swatch {
  width:18px;
  height:12px;
  border-radius:2px;
}

.caption {
  margin:6px 0 0;
  font-size:14px;
  font-family:"Source Sans 3", system-ui, -apple-system, Segoe UI, Arial, sans-serif;
}

@media (max-width:520px) {
  .chart-title { font-size:18px; }
  .legend { font-size:13px; }
  .caption { font-size:13px; }
}
</style>

<script>
google.charts.load('current', {packages:['corechart']});
google.charts.setOnLoadCallback(drawChart);

function drawChart() {

  const data = google.visualization.arrayToDataTable([
    ['Group','Severe','Moderate','Minimal','No Response'],
    ['Trans People',42,14,3,40],
    ['Other',27,39,2,32],
    ['Cis Women',10,24,9,57],
    ['Cis Men',9,20,6,66]
  ]);

  const isMobile = window.innerWidth < 520;

  const options = {
    height: isMobile ? 420 : 440,
    isStacked:true,
    legend:{position:'none'},
    backgroundColor:'transparent',
    colors:['#000F46','#003C55','#2C421D','#2D2D2D'],
    tooltip:{
      trigger:'focus',
      isHtml:false,
      textStyle:{fontName:'Source Sans 3'}
    },
    hAxis:{
      minValue:0,
      maxValue:100,
      ticks:[0,20,40,60,80,100],
      textStyle:{
        fontName:'Source Sans 3',
        fontSize: isMobile ? 12 : 14
      }
    },
    vAxis:{
      textStyle:{
        fontName:'Source Sans 3',
        fontSize:14
      }
    },
    bar:{groupWidth:'70%'},
    chartArea:{
      left:80,
      right:20,
      top:10,
      bottom:40
    }
  };

  new google.visualization.ColumnChart(document.getElementById('chart2')).draw(data, options);
}

window.addEventListener('resize', function(){
  drawChart();
});
</script>
</head>

<body>
<div class="wrap">
  <h2 class="chart-title">
    Which genders are most likely to experience severe long COVID?
  </h2>

  <div id="chart2"></div>

  <div class="legend">
    <span class="legend-item"><span class="swatch" style="background:#000F46"></span>Severe Symptoms</span>
    <span class="legend-item"><span class="swatch" style="background:#003C55"></span>Moderate Symptoms</span>
    <span class="legend-item"><span class="swatch" style="background:#2C421D"></span>Minimal Symptoms</span>
    <span class="legend-item"><span class="swatch" style="background:#2D2D2D"></span>No Response</span>
  </div>

  <div class="caption">
    Share of people who had COVID and developed Long COVID, by gender, December 2022
  </div>
</div>
</body>
</html>
